{% extends 'base.html' %}

{% block title %}Flipper Equation{% endblock %}

{% block content %}
<div class="container text-end mt-3">
    <p class="badge badge-primary fs-5 border shadow">Punti: {{ points }}</p>
</div>
<div class="container text-center">
    <h2>Flipper Equation</h2>
    <div class="container my-4">
        <p>Risolvi pi√π equazioni che puoi, per ogni equazione risolta riceverai un punto.<br>
        La soluzione deve essere arrotondata a due cifre decimali.<br>
        Quando avrai guadagnato 1.000.000.000 di punti otterrai la flag.</p>
    </div>
    <div class="container my-4">
        <span class="fs-4">{{ equation }}</span>
    </div>
    <div class="form-group my-4">
        <div class="row justify-content-md-center">
            <div class="col-md-auto">
                <input type="number" step="0.01" class="form-control" id="userSolution" placeholder="Soluzione">
            </div>
            <div class="col-md-auto">
                <button type="button" class="btn btn-primary" onclick="checkAnswer()">Submit</button>
            </div>
        </div>
        <div class="container my-4 text-center" id="resultContainer"></div>
    </div>
</div>
<div class="container my-5 text-center">
    <p>
    Puoi salvare la sessione per riprendere il gioco in un secondo momento.<br>
    Facendo cos&igrave otterrai un token encodata in base64 che potrai usare per caricare la sessione.<br>
    </p>
</div>
<div class="container my-4">
    <div class="row justify-content-md-center my-2">
        <div class="form-group col-md-auto">
            <button type="button" class="btn btn-primary" onclick="saveSession()">Salva Sessione</button>
        </div>
    </div>
    <div class="row justify-content-md-center my-1">
        <div class="col-md-auto">
            <p id="tokenDisplay"></p>
        </div>
    </div>
    <form method="post" action="/" class="form-group">
        <div class="row justify-content-md-center my-2">
            <div class="col-md-auto">
                <input name="sessionToken" type="text" class="form-control" id="sessionToken" placeholder="Token Sessione">
            </div>
            <div class="col-md-auto">
                <button type="submit" class="btn btn-primary">Carica Sessione</button>
            </div>
    </form>
</div>
{% endblock %}
